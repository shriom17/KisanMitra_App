# AgriGuru AI Backend - Modern Task Runner
# Install 'just' command runner: https://github.com/casey/just

# Default recipe
default:
    @just --list

# Install dependencies
install:
    @echo "ğŸ“¦ Installing dependencies..."
    pip install -r requirements.txt
    @echo "âœ… Dependencies installed!"

# Start the server
start:
    @echo "ğŸš€ Starting AgriGuru AI Backend Server..."
    python farming_expert_app.py

# Start in development mode
dev:
    @echo "ğŸ› ï¸  Starting in development mode..."
    python farming_expert_app.py

# Check server status
check:
    @echo "ğŸ” Checking server status..."
    python check_server.py

# Run tests
test:
    @echo "ğŸ§ª Running tests..."
    python check_server.py

# Clean up cache files
clean:
    @echo "ğŸ§¹ Cleaning up..."
    find . -name "*.pyc" -delete
    find . -name "__pycache__" -type d -exec rm -rf {} +
    @echo "âœ… Cleanup complete!"

# Show server info
info:
    @echo "ğŸŒ¾ AgriGuru AI Backend Server"
    @echo "=============================="
    @echo "ğŸ“ Location: $(pwd)"
    @echo "ğŸ Python: $(python --version)"
    @echo "ğŸŒ URL: http://localhost:5000"
    @echo "ğŸ§ª Test: test_ai.html"

# Quick setup (install + start)
setup:
    @just install
    @just start
